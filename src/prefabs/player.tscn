[gd_scene format=3 uid="uid://deashx71fo0da"]

[ext_resource type="Script" uid="uid://dglbpte5k6gtx" path="res://src/prefabs/player.gd" id="1_e4ep1"]
[ext_resource type="Script" uid="uid://d1jwapkumdp1u" path="res://addons/simusdev/SimusNet/SimusNetTransform.gd" id="2_744qn"]
[ext_resource type="Resource" uid="uid://cjjfa14f6tdgl" path="res://src/objects/sound/test_sound.tres" id="2_rlttd"]
[ext_resource type="Script" uid="uid://bwwpj2rkss4cf" path="res://component/health/CT_Health.gd" id="3_eb5im"]
[ext_resource type="PackedScene" uid="uid://bb30gdt6q8ij" path="res://addons/simusdev/components/fp_controller/source_like/W_FPCSourceLikeCamera.tscn" id="3_j7lg1"]
[ext_resource type="Script" uid="uid://dfok55wn4kqd2" path="res://component/player/CT_Playable.gd" id="3_rlttd"]
[ext_resource type="PackedScene" uid="uid://be7h2lkvpihn3" path="res://addons/simusdev/components/fp_controller/source_like/W_FPCSourceLikeMovement.tscn" id="4_d5u4l"]
[ext_resource type="Script" uid="uid://dpblk4cnhdonv" path="res://component/viewmodel/ViewModelRoot3D.gd" id="4_heeeb"]
[ext_resource type="PackedScene" uid="uid://cmmrufl5ygbop" path="res://component/inventory/prefabs/inventory.tscn" id="4_wdfrp"]
[ext_resource type="Script" uid="uid://dvlnhvdrc3dy6" path="res://component/hitbox/CT_Hitbox.gd" id="5_yyb7l"]
[ext_resource type="Script" uid="uid://c1pmyb3w7dbto" path="res://component/CameraShake.gd" id="8_k5oc5"]
[ext_resource type="Script" uid="uid://bfvmikvjmhnii" path="res://component/entity/CT_EntityHead.gd" id="9_k5oc5"]
[ext_resource type="Script" uid="uid://cth053db6jxla" path="res://component/ViewModelSway.gd" id="9_xiv16"]
[ext_resource type="Script" uid="uid://diojix86rolea" path="res://component/interaction/CT_InteractionRay.gd" id="9_y56kl"]
[ext_resource type="Script" uid="uid://cgpsyyx2x8kki" path="res://component/ui/MP_CanvasLayer.gd" id="10_wdfrp"]
[ext_resource type="Script" uid="uid://dfsnjhyc2ld3c" path="res://addons/simusdev/components/fp_controller/source_like/W_FPCSourceLikeCrouch.gd" id="10_y56kl"]
[ext_resource type="Resource" uid="uid://cic3i440xvcwv" path="res://src/objects/item/weapon/crowbar.tres" id="10_yyb7l"]
[ext_resource type="PackedScene" uid="uid://b36ise4k4tg7d" path="res://scenes/prefabs/player_ui/player_ui.tscn" id="11_y56kl"]

[sub_resource type="BoxShape3D" id="BoxShape3D_yyb7l"]
size = Vector3(1, 0.5, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_xiv16"]
size = Vector3(1, 0.90000004, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_k5oc5"]
size = Vector3(1, 0.6, 1)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_d5u4l"]

[sub_resource type="BoxShape3D" id="BoxShape3D_d5u4l"]
size = Vector3(1, 1.9963379, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_wdfrp"]
size = Vector3(1, 1.2, 1)

[node name="Player" type="CharacterBody3D" unique_id=1316103980]
collision_layer = 0
script = ExtResource("1_e4ep1")
sound = ExtResource("2_rlttd")
metadata/sd_components = Array[Node]([])

[node name="CT_Health" type="Node" parent="." unique_id=1598873890 node_paths=PackedStringArray("root")]
script = ExtResource("3_eb5im")
root = NodePath("..")
metadata/_custom_type_script = "uid://bwwpj2rkss4cf"

[node name="CT_Playable" type="Node" parent="." unique_id=768027577 node_paths=PackedStringArray("node")]
script = ExtResource("3_rlttd")
node = NodePath("..")
metadata/_custom_type_script = "uid://dfok55wn4kqd2"

[node name="SimusNetTransform" type="Node" parent="." unique_id=1897966060 node_paths=PackedStringArray("node")]
script = ExtResource("2_744qn")
node = NodePath("..")
metadata/_custom_type_script = "uid://d1jwapkumdp1u"

[node name="Inventory" parent="." unique_id=1499312686 node_paths=PackedStringArray("node") instance=ExtResource("4_wdfrp")]
node = NodePath("..")

[node name="CT_HitboxHead" type="Area3D" parent="." unique_id=751971328 node_paths=PackedStringArray("health") groups=["piercable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.75, 0)
script = ExtResource("5_yyb7l")
health = NodePath("../CT_Health")
metadata/_custom_type_script = "uid://dvlnhvdrc3dy6"

[node name="CollisionShape3D" type="CollisionShape3D" parent="CT_HitboxHead" unique_id=31555626]
shape = SubResource("BoxShape3D_yyb7l")
debug_color = Color(0.99094063, 0, 0.27785844, 0.41960785)

[node name="CT_HitboxBody" type="Area3D" parent="." unique_id=1925169250 node_paths=PackedStringArray("health")]
script = ExtResource("5_yyb7l")
health = NodePath("../CT_Health")
metadata/_custom_type_script = "uid://dvlnhvdrc3dy6"

[node name="CollisionShape3D" type="CollisionShape3D" parent="CT_HitboxBody" unique_id=2114861173]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.049999967, 0)
shape = SubResource("BoxShape3D_xiv16")

[node name="CT_HitboxLegs" type="Area3D" parent="." unique_id=1168561640 node_paths=PackedStringArray("health")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.7, 0)
script = ExtResource("5_yyb7l")
health = NodePath("../CT_Health")
metadata/_custom_type_script = "uid://dvlnhvdrc3dy6"

[node name="CollisionShape3D" type="CollisionShape3D" parent="CT_HitboxLegs" unique_id=1301651919]
shape = SubResource("BoxShape3D_k5oc5")

[node name="Camera" parent="." unique_id=1452450032 node_paths=PackedStringArray("body") instance=ExtResource("3_j7lg1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.64549553, 0)
body = NodePath("..")

[node name="CameraShake" type="Node3D" parent="Camera/Camera3D" index="0" unique_id=77756217 node_paths=PackedStringArray("player", "viewmodel_root", "camera", "movement")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.64549553, 0)
script = ExtResource("8_k5oc5")
player = NodePath("../../..")
viewmodel_root = NodePath("ViewModelRoot3D")
camera = NodePath("../..")
movement = NodePath("../../../Movement")

[node name="ViewModelRoot3D" type="Node3D" parent="Camera/Camera3D/CameraShake" unique_id=370646152 node_paths=PackedStringArray("player")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.64549553, 0)
script = ExtResource("4_heeeb")
player = NodePath("../../../..")
object = ExtResource("10_yyb7l")

[node name="ViewModelSway" type="Node" parent="Camera/Camera3D/CameraShake/ViewModelRoot3D" unique_id=1406768518]
script = ExtResource("9_xiv16")

[node name="CT_EntityHead" type="Node" parent="Camera" unique_id=335382267 node_paths=PackedStringArray("_entity", "_eyes")]
script = ExtResource("9_k5oc5")
_entity = NodePath("../..")
_eyes = NodePath("..")
metadata/_custom_type_script = "uid://bfvmikvjmhnii"

[node name="SimusNetTransform" type="Node" parent="Camera" unique_id=1270936250 node_paths=PackedStringArray("node")]
script = ExtResource("2_744qn")
node = NodePath("..")
metadata/_custom_type_script = "uid://d1jwapkumdp1u"

[node name="CT_InteractionRay" type="RayCast3D" parent="Camera" unique_id=458762315 node_paths=PackedStringArray("root")]
target_position = Vector3(0, 0, -1.5)
collision_mask = 2
collide_with_areas = true
script = ExtResource("9_y56kl")
root = NodePath("../..")
metadata/_custom_type_script = "uid://diojix86rolea"

[node name="Movement" parent="." unique_id=240765583 node_paths=PackedStringArray("actor") instance=ExtResource("4_d5u4l")]
actor = NodePath("..")
key_forward = "move_forward"
key_backward = "move_backward"
key_left = "move_left"
key_right = "move_right"
key_jump = "jump"
key_sprint = "sprint"
key_crouch = "crouch"

[node name="Crouch" type="Node3D" parent="Movement" unique_id=1215001760 node_paths=PackedStringArray("camera", "movement", "collision_normal", "collision_crouch", "crouch_camera_position")]
script = ExtResource("10_y56kl")
camera = NodePath("../../Camera")
movement = NodePath("..")
collision_normal = NodePath("../../CollisionNormal")
collision_crouch = NodePath("../../CollisionCrouch")
crouch_camera_position = NodePath("../../Marker3D")
metadata/_custom_type_script = "uid://dfsnjhyc2ld3c"

[node name="MeshInstance3D" type="MeshInstance3D" parent="." unique_id=56016437]
mesh = SubResource("CapsuleMesh_d5u4l")

[node name="CollisionNormal" type="CollisionShape3D" parent="." unique_id=248427722]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.014526367, 0)
shape = SubResource("BoxShape3D_d5u4l")

[node name="CollisionCrouch" type="CollisionShape3D" parent="." unique_id=199348812]
shape = SubResource("BoxShape3D_wdfrp")

[node name="CanvasLayer" type="CanvasLayer" parent="." unique_id=1375642308 node_paths=PackedStringArray("player")]
script = ExtResource("10_wdfrp")
player = NodePath("..")
ui_prefab = ExtResource("11_y56kl")
metadata/_custom_type_script = "uid://cgpsyyx2x8kki"

[node name="Marker3D" type="Marker3D" parent="." unique_id=1961461207]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.4, 0)

[editable path="Camera"]
